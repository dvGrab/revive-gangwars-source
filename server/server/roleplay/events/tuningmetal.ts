import { Player } from "../account/player";
import { Distance } from "../warflags/flags";
import { playAnimation } from "../gameplay/animations";
import { Teams, TeamIds } from "../spawning/team";
import { overlayError, overlaySuccess } from "../utils/utils";
import { Tuning } from "../system/tuning";
import { Messages } from "../chat/messaging";
import { isDeepStrictEqual } from "util";
import { Vehicle } from "../vehicles/shops";
import { Leveling } from "../database/entities/leveling";
import { Level } from "../account/leveling";
import { damagePlayer } from "../weapons/syncing";

var positions = [/* 200.87937927246094 */[170.6568603515625, -1074.055419921875, 28.018142700195312],
/* 174.24908447265625 */[-159.21461486816406, -980.9102783203125, 20.102333068847656],
/* 304.6501770019531 */[734.7863159179688, -1514.5098876953125, 18.677967071533203],
/* 159.66339111328125 */[-29.364408493041992, -1232.388427734375, 28.161100387573242],
/* 233.20852661132812 */[-184.93798828125, -1262.2398681640625, 30.1224308013916],
/* 36.7054443359375 */[-1237.3798828125, -1404.160888671875, 3.098555564880371],
/* 94.3819580078125 */[-23.51974105834961, -586.806640625, 16.748559951782227],
/* 171.06072998046875 */[-344.5252380371094, -1199.435791015625, 23.22139549255371],
/* 62.20953369140625 */[-920.9165649414062, -722.693359375, 18.81255531311035],
/* 265.957275390625 */[-205.3658905029297, -1183.05712890625, 21.856407165527344],
/* 325.9989929199219 */[105.16078186035156, -402.1518859863281, 40.087486267089844],
/* 264.279296875 */[-1155.546875, -524.8258056640625, 31.143722534179688],
/* 159.3446044921875 */[466.80181884765625, -850.240966796875, 25.569936752319336],
/* 224.44944763183594 */[-327.4505920410156, -755.75341796875, 52.14280700683594],
/* 338.44189453125 */[20.812191009521484, -582.3367919921875, 30.454336166381836],
/* 104.81170654296875 */[919.5699462890625, -1184.0877685546875, 24.64836311340332],
/* 230.9197235107422 */[-1560.69287109375, -245.032958984375, 47.102943420410156],
/* 219.61289978027344 */[-11.652388572692871, -637.3037719726562, 34.55050277709961],
/* 36.785400390625 */[865.0281372070312, -1377.586669921875, 24.95705223083496],
/* 278.365234375 */[-1705.129150390625, -304.552734375, 50.63868713378906],
/* 156.27752685546875 */[-113.0914535522461, -605.1495361328125, 35.10680389404297],
/* 99.93731689453125 */[-294.4290466308594, -621.4315185546875, 32.22468185424805],
/* 149.12777709960938 */[-1691.8134765625, -436.7712707519531, 40.6865234375],
/* 127.07302856445312 */[-1391.927978515625, -451.8665466308594, 33.375125885009766],
/* 86.98333740234375 */[-483.8319396972656, -599.7593383789062, 30.00067138671875],
/* 213.9363555908203 */[-1467.9990234375, -650.9022216796875, 28.32830238342285],
/* 358.6475524902344 */[-663.0736083984375, -712.2979125976562, 26.022933959960938],
/* 351.0012512207031 */[-200.90582275390625, -1391.040771484375, 30.078596115112305],
/* 275.127197265625 */[-580.361328125, -902.4949340820312, 24.505626678466797],
/* 123.72360229492188 */[-1843.8243408203125, -1226.8529052734375, 11.9135103225708],
/* 28.734710693359375 */[-611.08203125, -983.398193359375, 20.50725746154785],
/* 273.79681396484375 */[-1608.6392822265625, -998.9661865234375, 6.417145252227783],
/* 72.71847534179688 */[-693.7394409179688, -1113.1558837890625, 13.351505279541016],
/* 119.5830078125 */[-754.9788818359375, -1067.5245361328125, 10.7559175491333],
/* 70.03192138671875 */[-306.4840087890625, -944.3661499023438, 29.905855178833008],
/* 338.77587890625 */[-812.2140502929688, -1097.506103515625, 9.600130081176758],
/* 338.77587890625 */[-812.2140502929688, -1097.506103515625, 9.600130081176758],
/* 251.9630889892578 */[-845.8360595703125, -1204.2974853515625, 5.071053981781006],
/* 26.6014404296875 */[-1188.8035888671875, -1484.816650390625, 3.2062904834747314],
/* 178.6617431640625 */[-472.6481018066406, -726.9843139648438, 29.387741088867188],
/* 122.29806518554688 */[-988.33203125, -1279.061279296875, 4.757302284240723],
/* 169.5750732421875 */[-1047.6888427734375, -1425.3079833984375, 4.252191543579102],
/* 209.81324768066406 */[-970.8579711914062, -1485.65869140625, 3.8340253829956055],
/* 209.81324768066406 */[-970.8579711914062, -1485.65869140625, 3.8340253829956055],
/* 315.2051696777344 */[-1207.0447998046875, -1798.05859375, 2.735761880874634],
/* 28.519134521484375 */[-1072.620361328125, -881.6043701171875, 3.585458755493164],
/* 192.48117065429688 */[-960.4760131835938, -1566.18408203125, 3.8454222679138184],
/* 11.9964599609375 */[-909.2852172851562, -1512.083984375, 3.851609230041504],
/* 32.4287109375 */[-1294.787109375, -1616.125244140625, 2.922226667404175],
/* 177.57965087890625 */[-1504.643310546875, -721.5740356445312, 25.54446029663086],
/* 118.60235595703125 */[-1098.290283203125, -1253.158447265625, 4.015030384063721],
/* 347.4163818359375 */[-1217.884521484375, -1507.979248046875, 3.18442440032959],
/* 79.23300170898438 */[-1387.7464599609375, -1322.7977294921875, 2.9760701656341553],
/* 304.11370849609375 */[-1390.5921630859375, 65.76121520996094, 52.4399299621582],
/* 260.79791259765625 */[-1521.5787353515625, -880.517333984375, 8.937582015991211],
/* 191.28219604492188 */[-708.048583984375, -876.999267578125, 22.37579917907715],
/* 54.37237548828125 */[-1690.8714599609375, -764.0449829101562, 9.015079498291016],
/* 313.0113830566406 */[-294.3853759765625, -762.104248046875, 32.794151306152344],
/* 4.663848876953125 */[-560.697265625, 337.58038330078125, 83.2388687133789],
/* 291.7470703125 */[-290.1309814453125, -760.8995971679688, 37.60630798339844],
/* 89.25692749023438 */[-349.6946105957031, 289.11383056640625, 83.75287628173828],
/* 282.30670166015625 */[-287.5641174316406, -760.9068603515625, 42.42741012573242],
/* 271.7568664550781 */[-1118.294921875, -851.6005249023438, 12.275385856628418],
/* 289.5845947265625 */[-285.4124755859375, -759.2376708984375, 47.24366760253906],
/* 322.08526611328125 */[-837.5343627929688, -693.2380981445312, 26.145235061645508],
/* 159.020263671875 */[465.4141540527344, -72.911865234375, 76.28648376464844],
/* 119.56854248046875 */[-785.6184692382812, -576.1065063476562, 28.952312469482422],
/* 134.44143676757812 */[-336.6319580078125, -1466.1458740234375, 29.368213653564453],
/* 90.54705810546875 */[-355.7838134765625, -1495.729736328125, 28.997621536254883],
/* 330.5821838378906 */[-500.7538146972656, -1344.5091552734375, 27.750778198242188],
/* 23.324432373046875 */[-161.4748077392578, -611.9923706054688, 31.250566482543945],
/* 250.4559326171875 */[-520.3097534179688, -1221.961181640625, 17.111892700195312],
/* 358.9020690917969 */[-73.57537841796875, -875.642333984375, 38.529640197753906],
/* 83.55075073242188 */[-224.43299865722656, -271.5467529296875, 47.83742904663086],
/* 298.0422058105469 */[-78.3011474609375, -680.3485717773438, 33.22000503540039],
/* 129.28030395507812 */[-732.1294555664062, -1418.6270751953125, 3.8023667335510254],
/* 162.3814697265625 */[-750.5218505859375, -1448.068603515625, 3.7997961044311523],
/* 264.39276123046875 */[-734.443115234375, -1474.459716796875, 3.802138328552246],
/* 348.7308349609375 */[-711.4417724609375, -1456.21826171875, 3.802305221557617],
/* 15.126556396484375 */[-714.4059448242188, -1429.91162109375, 3.800158977508545],
/* 310.3654479980469 */[92.24868774414062, -746.6541748046875, 44.58135986328125],
/* 346.9261779785156 */[-674.0834350585938, -1215.1575927734375, 9.390857696533203],
/* 17.697967529296875 */[43.5226936340332, -870.9044799804688, 29.283952713012695],
/* 318.8045959472656 */[-669.6671142578125, -1207.9219970703125, 9.421460151672363],
/* 346.2619934082031 */[-665.1604614257812, -1199.7679443359375, 9.418331146240234],
/* 171.73052978515625 */[-492.8252868652344, -337.3341979980469, 33.19739532470703],
/* 19.26190185546875 */[-665.8431396484375, -1190.4188232421875, 9.419182777404785],
/* 44.84326171875 */[-671.4082641601562, -1182.0933837890625, 9.419412612915039],
/* 347.25421142578125 */[287.6079406738281, -333.4623107910156, 43.7473258972168],
/* 147.788818359375 */[-762.8265380859375, -1319.995361328125, 3.803666114807129],
/* 134.01559448242188 */[-769.673583984375, -1328.8590087890625, 3.804196357727051],
/* 69.636962890625 */[-781.295166015625, -1332.365478515625, 3.8110055923461914],
/* 37.96881103515625 */[-807.5642700195312, -1310.34814453125, 3.7999792098999023],
/* 48.357086181640625 */[-830.108154296875, -1287.0535888671875, 3.80129337310791],
/* 26.85009765625 */[-843.33984375, -1270.6729736328125, 3.8013501167297363],
/* 185.36341857910156 */[-618.324462890625, -1020.0464477539062, 20.59208106994629],
/* 181.66416931152344 */[-618.093994140625, -1037.2677001953125, 20.590486526489258],
/* 184.4257049560547 */[-618.2389526367188, -1055.19580078125, 20.58988380432129],
/* 56.9752197265625 */[470.42645263671875, -1232.944091796875, 28.695484161376953],
/* 215.47654724121094 */[-601.3551025390625, -1084.77734375, 20.95210838317871],
/* 274.70513916015625 */[-578.6939086914062, -1092.7237548828125, 20.98113441467285],
/* 180.76376342773438 */[-565.9813842773438, -1104.778076171875, 20.96197509765625],
/* 173.0531005859375 */[-568.768798828125, -1127.7515869140625, 20.975271224975586],
/* 68.6849365234375 */[-586.3364868164062, -1138.32275390625, 20.98230743408203],
/* 335.03314208984375 */[-594.0244750976562, -1122.693359375, 20.983142852783203],
/* 48.709503173828125 */[482.5943603515625, -1281.3162841796875, 28.36520767211914],
/* 280.2994384765625 */[-510.64849853515625, -958.156982421875, 22.36871910095215],
/* 288.97747802734375 */[-492.5402526855469, -953.6284790039062, 22.773283004760742],
/* 277.1023254394531 */[-461.2865295410156, -948.1891479492188, 22.482257843017578],
/* 1.473876953125 */[-451.4054870605469, -937.1679077148438, 22.469867706298828],
/* 14.60992431640625 */[-453.7027282714844, -922.4998168945312, 22.468236923217773],
/* 355.3492126464844 */[-452.5093688964844, -901.4627075195312, 22.466724395751953],
/* 96.665771484375 */[-467.99462890625, -889.8914794921875, 22.52916145324707],
/* 160.16326904296875 */[-481.3155517578125, -901.36669921875, 22.649198532104492],
/* 309.8515930175781 */[508.18133544921875, -51.75932693481445, 87.68318176269531],
/* 231.39193725585938 */[488.5612487792969, -1485.290771484375, 27.96786880493164],
/* 357.77532958984375 */[-489.6910095214844, -759.3716430664062, 30.685834884643555],
/* 9.212799072265625 */[-488.7048034667969, -738.4662475585938, 32.029090881347656],
/* 203.05653381347656 */[618.29638671875, -1727.5751953125, 19.55523109436035],
/* 284.94598388671875 */[-467.058349609375, -622.0633544921875, 29.97896957397461],
/* 93.63626098632812 */[-532.87744140625, -623.548828125, 29.097272872924805],
/* 85.70513916015625 */[-555.580810546875, -623.3602294921875, 29.098674774169922],
/* 246.5669403076172 */[380.1025085449219, 24.08521842956543, 90.224609375],
/* 84.25106811523438 */[-766.8390502929688, -578.0880737304688, 28.923675537109375],
/* 195.6853790283203 */[-787.9855346679688, -588.0827026367188, 28.9314022064209],
/* 292.10052490234375 */[-775.4813232421875, -592.4080810546875, 28.931753158569336],
/* 148.6771240234375 */[417.9419860839844, -2036.2615966796875, 21.593873977661133],
/* 279.7166442871094 */[369.427490234375, -2132.06591796875, 14.97341537475586],
/* 86.28253173828125 */[294.55767822265625, -2202.552490234375, 8.23986530303955],
/* 220.8409423828125 */[485.9673767089844, -1306.8245849609375, 28.10468292236328],
/* 267.7706298828125 */[350.6275939941406, -2541.813232421875, 4.570376873016357],
/* 56.873687744140625 */[460.25238037109375, -1309.253173828125, 28.103471755981445],
/* 108.22702026367188 */[695.9949951171875, 1282.8743896484375, 359.12420654296875],
/* 103.56732177734375 */[243.64041137695312, -2576.5009765625, 4.577656269073486],
/* 290.9493103027344 */[303.7242431640625, -2658.690673828125, 4.819549083709717],
/* 293.4078369140625 */[-442.7822265625, -578.0534057617188, 26.00224494934082],
/* 333.99700927734375 */[-436.63690185546875, -572.3094482421875, 26.78605079650879],
/* 137.525390625 */[737.3394775390625, 1190.4075927734375, 324.1408996582031],
/* 200.78726196289062 */[227.39639282226562, -2743.797607421875, 4.826758861541748],
/* 322.8628845214844 */[539.403564453125, -1589.18505859375, 27.904830932617188],
/* 160.753662109375 */[210.62167358398438, -2825.54150390625, 4.843534469604492],
/* 163.1636962890625 */[289.1316223144531, -589.835205078125, 41.97051239013672],
/* 141.83102416992188 */[284.32098388671875, -599.8792114257812, 41.969390869140625],
/* 179.40673828125 */[112.4046630859375, -2999.27099609375, 4.83082389831543],
/* 130.99969482421875 */[237.2299346923828, 1174.6087646484375, 224.2874298095703],
/* 224.8033905029297 */[247.5076141357422, -1955.6597900390625, 22.014371871948242],
/* 111.681396484375 */[5.932809829711914, -1043.7242431640625, 36.96690368652344],
/* 164.19427490234375 */[-0.6070168614387512, -1053.146240234375, 36.95643615722656],
/* 199.2738800048828 */[-0.3574107885360718, -1065.6536865234375, 36.9565315246582],
/* 246.89462280273438 */[7.151667594909668, -1074.4132080078125, 36.95722579956055],
/* 330.89862060546875 */[18.339855194091797, -1070.2010498046875, 36.95726776123047],
/* 46.692901611328125 */[207.81326293945312, -2005.717529296875, 17.685840606689453],
/* 254.7365264892578 */[244.3386688232422, -1156.7227783203125, 28.042484283447266],
/* 294.483154296875 */[256.41729736328125, -1155.5576171875, 28.07561492919922],
/* 240.17779541015625 */[346.9721374511719, -1151.9344482421875, 28.10546112060547],
/* 297.9678955078125 */[356.03082275390625, -1151.337890625, 28.097496032714844],
/* 177.414794921875 */[-267.1768798828125, 720.5464477539062, 206.15379333496094],
/* 265.59783935546875 */[385.87158203125, -1153.3765869140625, 28.09187889099121],
/* 263.6528015136719 */[421.56060791015625, -1155.314208984375, 28.06540870666504],
/* 271.67962646484375 */[445.6274108886719, -1156.4459228515625, 28.15752601623535],
/* 262.8504638671875 */[466.4459533691406, -1156.8720703125, 28.08997344970703],
/* 263.64178466796875 */[481.7010803222656, -1158.702880859375, 28.074434280395508],
/* 288.66436767578125 */[219.25238037109375, -3330.489501953125, 4.622675895690918],
/* 122.70907592773438 */[464.7356262207031, -1212.272216796875, 28.135242462158203],
/* 107.372314453125 */[451.7906188964844, -1218.8756103515625, 28.82115364074707],
/* 106.51107788085938 */[433.3119201660156, -1224.3580322265625, 30.575284957885742],
/* 95.08889770507812 */[432.6730651855469, -1287.6102294921875, 29.04295539855957],
/* 62.33770751953125 */[419.6382141113281, -1285.6591796875, 29.0673828125],
/* 25.761199951171875 */[412.3314514160156, -1278.8182373046875, 29.07600975036621],
/* 134.10894775390625 */[402.81280517578125, -1276.859130859375, 29.0822696685791],
/* 145.55963134765625 */[425.4549865722656, -1327.2391357421875, 29.851444244384766],
/* 133.17254638671875 */[416.4046936035156, -1338.0814208984375, 29.85513687133789],
/* 229.1456298828125 */[422.2143859863281, -1357.93701171875, 31.03705596923828],
/* 240.5093994140625 */[433.8399658203125, -1367.054931640625, 32.3764533996582],
/* 34.518585205078125 */[436.26263427734375, -1347.5440673828125, 33.14653396606445],
/* 9.493255615234375 */[426.9587097167969, -1324.1651611328125, 34.859745025634766],
/* 46.96136474609375 */[418.3209533691406, -1308.9306640625, 35.71091842651367],
/* 60.038848876953125 */[406.7796630859375, -1299.793701171875, 37.32060241699219],
/* 350.8710021972656 */[-668.37353515625, 752.2015991210938, 172.95697021484375],
/* 237.71725463867188 */[440.44830322265625, -1327.087890625, 40.316184997558594],
/* 133.01531982421875 */[459.5926513671875, -1353.9786376953125, 42.358787536621094],
/* 43.593109130859375 */[443.11468505859375, -1354.15869140625, 42.36796951293945],
/* 54.2501220703125 */[427.9856262207031, -1341.811767578125, 44.40534210205078],
/* 52.093048095703125 */[408.5947265625, -1325.274658203125, 44.39330291748047],
/* 44.043548583984375 */[395.3699035644531, -1313.583251953125, 42.39158630371094],
/* 186.11476135253906 */[444.9033508300781, -1360.26806640625, 37.35935974121094],
/* 356.2093811035156 */[-810.0924072265625, 705.0126953125, 145.897705078125],
/* 306.839111328125 */[-1024.1082763671875, 695.5208129882812, 160.21875],
/* 23.86859130859375 */[-1115.08740234375, 769.6203002929688, 162.1248779296875],
/* 312.4768981933594 */[1213.0528564453125, -1407.9324951171875, 33.971641540527344],
/* 40.384765625 */[1216.9027099609375, -1397.0718994140625, 34.04039001464844],
/* 47.224212646484375 */[1204.00732421875, -1390.956787109375, 34.03607177734375],
/* 74.561279296875 */[-1068.896240234375, 676.7532958984375, 141.13824462890625],
/* 220.87625122070312 */[1441.51220703125, -1684.1749267578125, 64.30414581298828],
/* 185.0962677001953 */[1440.8592529296875, -1708.4940185546875, 65.96188354492188],
/* 178.497314453125 */[1439.10595703125, -1740.5806884765625, 67.03264617919922],
/* 199.0070343017578 */[1441.9454345703125, -1763.8343505859375, 67.5707015991211],
/* 229.0634002685547 */[1456.5233154296875, -1785.6900634765625, 68.77010345458984],
/* 199.51214599609375 */[1471.0504150390625, -1807.36865234375, 69.71207427978516],
/* 205.9755096435547 */[1480.8826904296875, -1829.923828125, 70.05845642089844],
/* 163.88818359375 */[1485.646240234375, -1852.9249267578125, 70.08436584472656],
/* 119.91766357421875 */[1474.170166015625, -1876.21337890625, 70.57403564453125],
/* 82.42892456054688 */[1453.962158203125, -1883.2178955078125, 70.45247650146484],
/* 42.731903076171875 */[-1360.1982421875, 553.066650390625, 128.48558044433594],
/* 165.955078125 */[1374.6302490234375, -2051.3623046875, 50.788394927978516],
/* 140.91424560546875 */[1368.484375, -2064.5751953125, 50.79941940307617],
/* 294.7608642578125 */[1369.2655029296875, -2080.708740234375, 50.817237854003906],
/* 321.32391357421875 */[1378.379638671875, -2072.63916015625, 50.80250930786133],
/* 289.5655517578125 */[1388.219970703125, -2065.72021484375, 50.802730560302734],
/* 19.32366943359375 */[-1512.3668212890625, 431.8474426269531, 109.71319580078125],
/* 341.8698425292969 */[-1577.557861328125, 406.6515197753906, 106.26350402832031],
/* 39.058837890625 */[236.4070281982422, -776.0897827148438, 29.702463150024414],
/* 25.728546142578125 */[1226.5811767578125, -2199.056396484375, 40.3396110534668],
/* 58.25006103515625 */[1217.42919921875, -2188.2275390625, 40.45309066772461],
/* 293.9917297363281 */[-1079.9500732421875, -694.160400390625, 20.828475952148438],
/* 119.42108154296875 */[-1677.9591064453125, 489.6666259765625, 127.70310974121094],
/* 264.74920654296875 */[1188.39990234375, -2162.760498046875, 39.020626068115234],
/* 91.9034423828125 */[852.2905883789062, -2129.924072265625, 29.178630828857422],
/* 231.19447326660156 */[-1987.08544921875, 548.992431640625, 109.6537857055664],
/* 11.772735595703125 */[-931.4976196289062, -460.5069274902344, 36.15705108642578],
/* 100.21356201171875 */[-392.2151184082031, -415.90093994140625, 30.71914291381836],
/* 107.41104125976562 */[1191.225341796875, -2273.799072265625, 29.181970596313477],
/* 174.06256103515625 */[879.0403442382812, -2174.69921875, 29.343610763549805],
/* 152.54547119140625 */[1158.0045166015625, -2327.7685546875, 30.028566360473633],
/* 259.4826354980469 */[-1996.2716064453125, 358.4678955078125, 93.2933120727539],
/* 151.2069091796875 */[1142.6251220703125, -2355.80908203125, 30.612186431884766],
/* 166.51055908203125 */[1131.1954345703125, -2379.9560546875, 30.094755172729492],
/* 76.81808471679688 */[1065.130615234375, -2380.09130859375, 29.561777114868164],
/* 286.88287353515625 */[-385.13525390625, -458.98297119140625, 29.86790657043457],
/* 112.01681518554688 */[-1671.2125244140625, 406.7532958984375, 87.82070922851562],
/* 213.89328002929688 */[-734.865966796875, -198.56539916992188, 36.084651947021484],
/* 89.80184936523438 */[960.5499267578125, -2370.171630859375, 29.32619285583496],
/* 80.72235107421875 */[936.8707275390625, -2368.6953125, 29.331188201904297],
/* 73.70828247070312 */[898.7957153320312, -2358.366455078125, 29.32549285888672],
/* 73.69244384765625 */[873.626953125, -2349.9013671875, 29.127174377441406],
/* 16.933197021484375 */[855.0783081054688, -2332.0869140625, 29.144128799438477],
/* 7.527130126953125 */[849.6369018554688, -2301.111328125, 29.130104064941406],
/* 82.340576171875 */[1015.173583984375, -2515.463134765625, 27.12851333618164],
/* 358.6524963378906 */[851.01708984375, -2273.91162109375, 29.133386611938477],
/* 347.7698059082031 */[856.1632080078125, -2225.40966796875, 29.429807662963867],
/* 357.026123046875 */[859.2660522460938, -2186.785400390625, 29.38533592224121],
/* 279.6666259765625 */[-565.893798828125, -451.8967590332031, 33.25688171386719],
/* 352.6421203613281 */[863.7509765625, -2147.5908203125, 29.28264808654785],
/* 280.05572509765625 */[-564.626953125, -451.62298583984375, 33.25669860839844],
/* 358.81011962890625 */[866.8857421875, -2111.535400390625, 29.222606658935547],
/* 280.05572509765625 */[-564.626953125, -451.62298583984375, 33.25669860839844],
/* 280.05572509765625 */[-564.626953125, -451.62298583984375, 33.25669860839844],
/* 353.4631042480469 */[873.7047119140625, -1995.0382080078125, 29.137409210205078],
/* 290.34625244140625 */[-744.3175659179688, -69.43855285644531, 40.74669647216797],
/* 290.34625244140625 */[-744.3175659179688, -69.43855285644531, 40.74669647216797],
/* 349.55230712890625 */[880.8721313476562, -1957.6785888671875, 29.165624618530273],
/* 280.05572509765625 */[-564.626953125, -451.62298583984375, 33.25669860839844],
/* 353.5617980957031 */[890.029541015625, -1917.81103515625, 29.435129165649414],
/* 280.05572509765625 */[-564.626953125, -451.62298583984375, 33.25669860839844],
/* 0.889434814453125 */[892.0311279296875, -1879.3553466796875, 29.41806983947754],
/* 358.5198669433594 */[892.896728515625, -1844.8365478515625, 29.42149543762207],
/* 280.05572509765625 */[-564.626953125, -451.62298583984375, 33.25669860839844],
/* 349.8282165527344 */[896.3450317382812, -1813.2578125, 29.415456771850586],
/* 138.09588623046875 */[-1699.2315673828125, 44.83692169189453, 64.06048583984375],
/* 82.78317260742188 */[795.4506225585938, -2520.522216796875, 20.45924949645996],
/* 276.13018798828125 */[871.6464233398438, -1658.1153564453125, 29.298608779907227],
/* 309.09814453125 */[-592.7172241210938, 192.57369995117188, 70.15875244140625],
/* 271.2865905761719 */[-1739.45263671875, 167.58164978027344, 63.19770812988281],
/* 344.27191162109375 */[-493.4737548828125, -218.76683044433594, 35.512290954589844],
/* 359.4659729003906 */[-397.89801025390625, 157.57664489746094, 64.5219497680664],
/* 305.6279602050781 */[-777.3556518554688, 362.5680847167969, 86.8613510131836],
/* 266.6809387207031 */[-1494.7388916015625, 85.87751007080078, 53.888790130615234],
/* 88.81802368164062 */[-263.7691345214844, 196.33084106445312, 84.27510070800781],
/* 262.52801513671875 */[-196.14012145996094, 205.6777801513672, 85.20568084716797],
/* 229.18426513671875 */[-477.81378173828125, 225.43060302734375, 82.10624694824219],
/* 260.5836181640625 */[-195.0196075439453, 205.46316528320312, 85.28119659423828],
/* 356.1380615234375 */[546.1249389648438, -3055.440673828125, 4.894423961639404],
/* 287.49542236328125 */[-1534.8424072265625, -27.905122756958008, 56.43971633911133],
/* 350.85791015625 */[152.95359802246094, 162.7291259765625, 103.86663818359375],
/* 350.6729431152344 */[152.9590301513672, 162.7301788330078, 103.86597442626953],
/* 350.6729431152344 */[152.9590301513672, 162.7301788330078, 103.86597442626953],
/* 352.9020690917969 */[571.4329833984375, -2726.60302734375, 4.880452632904053],
/* 357.1369934082031 */[639.186767578125, 271.39984130859375, 102.09152221679688],
/* 161.1435546875 */[654.8486328125, 151.51695251464844, 91.20746612548828],
/* 187.5546417236328 */[-965.6398315429688, 312.3381042480469, 69.25499725341797],
/* 242.38131713867188 */[783.4501953125, -101.37493896484375, 79.54679107666016],
/* 285.8765869140625 */[658.4273071289062, -2859.40673828125, 5.0427727699279785],
/* 0.851654052734375 */[-975.93408203125, 396.29705810546875, 73.88862609863281],
/* 54.514129638671875 */[1100.8582763671875, -332.6300048828125, 66.2005844116211],
/* 54.514129638671875 */[1100.8582763671875, -332.6300048828125, 66.2005844116211],
/* 54.514129638671875 */[1100.8582763671875, -332.6300048828125, 66.2005844116211],
/* 54.514129638671875 */[1100.8582763671875, -332.6300048828125, 66.2005844116211],
/* 145.9697265625 */[909.8099975585938, -287.68896484375, 64.6849594116211],
/* 260.3791198730469 */[685.5184936523438, -2738.9599609375, 4.82503604888916],
/* 0.644317626953125 */[-1098.866455078125, 358.533203125, 67.32418823242188],
/* 217.96788024902344 */[1030.0162353515625, -774.9046020507812, 57.04503631591797],
/* 306.4836730957031 */[-1241.2589111328125, 388.1648864746094, 74.43427276611328],
/* 244.01405334472656 */[1204.0595703125, -1059.513427734375, 39.73532485961914],
/* 351.0095520019531 */[48.48124313354492, -2567.429931640625, 4.8296003341674805],
/* 244.41310119628906 */[1204.127685546875, -1059.5689697265625, 39.72810363769531],
/* 227.5426788330078 */[1211.398681640625, -1067.048095703125, 38.88899612426758],
/* 227.74276733398438 */[1211.4326171875, -1067.0699462890625, 38.88361358642578],
/* 59.005340576171875 */[887.3460083007812, -845.5250854492188, 27.549806594848633],
/* 164.865966796875 */[1250.7071533203125, -1134.85302734375, 37.24808120727539],
/* 164.9122314453125 */[1250.705078125, -1134.853515625, 37.24772644042969],
/* 221.14263916015625 */[-1315.717041015625, 260.7325439453125, 61.4647102355957],
/* 164.9122314453125 */[1250.705078125, -1134.853515625, 37.24772644042969],
/* 166.0435791015625 */[1218.9908447265625, -1215.6976318359375, 34.90117263793945],
/* 166.0435791015625 */[1218.9908447265625, -1215.6976318359375, 34.90117263793945],
/* 166.0435791015625 */[1218.9908447265625, -1215.6976318359375, 34.90117263793945],
/* 184.62417602539062 */[710.6124267578125, -1074.6221923828125, 21.335952758789062],
/* 63.87274169921875 */[-113.18080139160156, -2524.09814453125, 4.8248209953308105],
/* 261.6764221191406 */[1216.37353515625, -1302.842041015625, 34.22479248046875],
/* 274.10186767578125 */[787.16845703125, -1113.3099365234375, 21.64082145690918],
/* 228.2181854248047 */[910.2156982421875, -1137.935791015625, 23.473772048950195],
/* 255.20071411132812 */[-1174.7767333984375, -334.11614990234375, 36.434165954589844],
/* 182.21353149414062 */[-45.95633316040039, -2436.320556640625, 4.825881004333496],
/* 289.1981201171875 */[1015.5693359375, -1106.9267578125, 29.196800231933594],
/* 43.71295166015625 */[-1228.5062255859375, -382.73516845703125, 36.11600112915039],
/* 182.01153564453125 */[1059.7335205078125, -1271.3919677734375, 24.512649536132812],
/* 117.0755615234375 */[-1227.195556640625, -382.69854736328125, 41.59880447387695],
/* 121.303466796875 */[-1224.3560791015625, -382.84161376953125, 47.10741424560547],
/* 124.60491943359375 */[-1231.69921875, -387.573486328125, 52.6086540222168],
/* 118.79843139648438 */[-1225.623779296875, -382.2306823730469, 58.106178283691406],
/* 304.1690979003906 */[747.1683349609375, -1197.242919921875, 43.93336868286133],
/* 156.4609375 */[682.2625122070312, -1528.752685546875, 8.533479690551758],
/* 287.1083068847656 */[-767.284423828125, -416.98388671875, 34.48396682739258],
/* 21.32916259765625 */[-390.4207458496094, -1876.9954833984375, 19.524921417236328],
/* 21.347930908203125 */[-390.421630859375, -1876.9954833984375, 19.524738311767578],
/* 21.347930908203125 */[-390.421630859375, -1876.9954833984375, 19.524738311767578],
/* 21.347930908203125 */[-390.421630859375, -1876.9954833984375, 19.524738311767578],
/* 21.347930908203125 */[-390.421630859375, -1876.9954833984375, 19.524738311767578],
/* 278.52008056640625 */[751.0523071289062, -942.4032592773438, 23.761823654174805],
/* 206.8754425048828 */[134.7166748046875, -1205.9205322265625, 28.29043960571289],
/* 91.32559204101562 */[891.2421875, -1020.7484741210938, 33.790706634521484],
/* 339.89593505859375 */[-246.38375854492188, -220.6432342529297, 35.34763717651367],
/* 147.74456787109375 */[-304.0977478027344, -276.7812194824219, 30.15667724609375],
/* 221.75778198242188 */[-338.39984130859375, -1077.1568603515625, 22.022859573364258],
/* 334.2003173828125 */[-17.6024227142334, -216.87010192871094, 45.003196716308594],
/* 76.36166381835938 */[-459.4053649902344, -805.0166015625, 29.536617279052734],
/* 109.05401611328125 */[118.92438507080078, -2069.52099609375, 16.626676559448242],
/* 180.3146514892578 */[218.55589294433594, -2187.920654296875, 12.75767993927002],
/* 247.89373779296875 */[813.0570068359375, -822.421875, 24.98756217956543],
/* 206.0321502685547 */[-895.6018676757812, -339.6561279296875, 33.358802795410156],
/* 71.82794189453125 */[1295.5870361328125, -1943.488037109375, 42.104976654052734],
/* 77.0352783203125 */[1268.3551025390625, -1944.03857421875, 42.086490631103516],
/* 32.316192626953125 */[1263.2061767578125, -1940.2545166015625, 42.08778762817383],
/* 353.3259582519531 */[1304.7020263671875, -1913.7474365234375, 41.72836685180664],
/* 69.23724365234375 */[1240.511474609375, -1879.8052978515625, 37.30340576171875],
/* 69.66238403320312 */[1225.8424072265625, -1874.2945556640625, 37.31935501098633],
/* 14.86199951171875 */[1014.8530883789062, -2035.73486328125, 29.679277420043945],
/* 5.74798583984375 */[1019.1421508789062, -1994.6690673828125, 29.907747268676758],
/* 56.859893798828125 */[994.8895263671875, -1952.361572265625, 29.653966903686523],
/* 193.25997924804688 */[1051.6290283203125, -1787.4810791015625, 34.235103607177734],
/* 216.80020141601562 */[1047.3939208984375, -1803.1248779296875, 34.409854888916016],
/* 306.5643005371094 */[565.69482421875, -1763.976318359375, 28.157859802246094],
/* 3.13165283203125 */[-181.0199432373047, -1329.1307373046875, 30.199081420898438],
/* 97.957275390625 */[-158.61773681640625, -1306.931396484375, 30.289724349975586],
/* 90.91683959960938 */[797.984130859375, -1612.02978515625, 30.092737197875977],
/* 91.21136474609375 */[797.9871215820312, -1612.04345703125, 30.09348487854004],
/* 85.40338134765625 */[796.606689453125, -1611.848388671875, 30.080846786499023],
/* 258.3511962890625 */[-52.52872085571289, -1116.2501220703125, 25.432186126708984],
/* 144.13412475585938 */[650.031005859375, -1498.73779296875, 9.508090019226074],
/* 333.0649108886719 */[551.108154296875, -1524.1527099609375, 20.438335418701172],
/* 355.60198974609375 */[558.9901123046875, -1451.9337158203125, 20.43995475769043],
/* 357.24945068359375 */[559.1649169921875, -1442.4327392578125, 20.44024085998535],
/* 195.51089477539062 */[661.2345581054688, -1573.8692626953125, 8.534071922302246],
/* 195.51089477539062 */[661.2345581054688, -1573.8692626953125, 8.534071922302246],
/* 318.1033630371094 */[603.5580444335938, -1340.5054931640625, 20.627038955688477],
/* 186.68768310546875 */[660.7005004882812, -1582.0267333984375, 8.535449028015137],
/* 270.61309814453125 */[702.8843994140625, -1582.781494140625, 8.498407363891602],
/* 58.250823974609375 */[718.0447998046875, -1292.4075927734375, 25.07477569580078],
/* 121.7811279296875 */[571.662841796875, -1921.379638671875, 23.69862174987793],
/* 132.76986694335938 */[703.8838500976562, -1592.552490234375, 8.473836898803711],
/* 217.04251098632812 */[903.275634765625, -1540.047607421875, 29.486085891723633],
/* 331.2533264160156 */[564.8102416992188, -1612.5322265625, 26.670122146606445],
/* 331.14129638671875 */[564.8126831054688, -1612.5341796875, 26.669700622558594]];

class scrapVehicle {
    position: Vector3Mp;
    vehicle: VehicleMp;
    marker: MarkerMp;
    lootedCount: number = 3;
    lastPlayer: damagePlayer | undefined = undefined;

    constructor(x: number, y: number, z: number) {
        this.position = new mp.Vector3(x, y, z);
        this.marker = mp.markers.new(1, this.position, 15.0, { color: [255, 255, 255, 30] });

        this.vehicle = mp.vehicles.new(mp.joaat("ruiner3"), this.position);
        this.vehicle.locked = true;

        this.lootedCount = 3;
    }
}

class scrapVehicleManager {

    list: scrapVehicle[] = [];

    initialize() {
        for (var i = 0; i < 15; i++) {
            this.spawnone();
        }

        setInterval(() => {

            this.list.forEach((element) => {

                if (element.lastPlayer != undefined) {
                    if (mp.players.exists(element.lastPlayer)) {
                        element.lastPlayer.lootCounter++;

                        if (element.lastPlayer.lootCounter >= 60) {

                            if ((!element.lastPlayer.vehicle) || (Distance(element.lastPlayer.position, element.position) < 15)) {
                                Messages.Send("SERVER", "Du hast das Fahrzeug erfolgreich geplündert!", false, element.lastPlayer);
                                element.lastPlayer.inventory.addAmount("Fahrzeugteile", 20);
                            }
                            else
                                overlayError(element.lastPlayer, "Du konntest das Fahrzeug nicht plündern!", "Fehler");

                            element.lastPlayer.lootCounter = 0;
                            element.lastPlayer = undefined;
                            element.lootedCount--;

                            if (element.lootedCount == 0) {
                                this.destroyVehicle(element);
                                this.spawnone();
                            }
                        }
                    }
                    else {
                        element.lastPlayer = undefined;
                    }
                }

            });

        }, 1000);
    }

    isNearVehicle(player: damagePlayer) {
        var vehicle = this.list.find(element => (Distance(element.position, player.position) < 8));

        if (vehicle)
            return vehicle;
        else
            return undefined;
    }

    isVehicleGettingLooted(scrapObject: scrapVehicle) {
        if (scrapObject.lastPlayer)
            return true;
        else
            return false;
    }

    isPlayerLooting(player: damagePlayer) {
        var object = this.list.find(element => element.lastPlayer == player);

        if (object)
            return true;
        else
            return false;
    }

    clearLootingPlayer(player: damagePlayer) {
        var object = this.list.find(element => element.lastPlayer == player);

        if (object)
            object.lastPlayer = undefined;
    }

    spawnone() {
        var randomIndex = Math.floor(Math.random() * positions.length);

        var isVehicleThere = this.list.find(element => (Distance(new mp.Vector3(positions[randomIndex][0], positions[randomIndex][1], positions[randomIndex][2]), element.position) < 15));

        if (isVehicleThere)
            this.spawnone();
        else
            this.list.push(new scrapVehicle(positions[randomIndex][0], positions[randomIndex][1], positions[randomIndex][2]));
    }

    destroyVehicle(object: scrapVehicle) {
        if (mp.vehicles.exists(object.vehicle))
            object.vehicle.destroy();

        if (mp.markers.exists(object.marker))
            object.marker.destroy();

        var index = this.list.findIndex(element => element == object);

        if (index)
            this.list.splice(index, 1);
    }

    tryLoot(player: damagePlayer) {

        if (player.vehicle)
            return false;

        if (player.health < 1)
            return false;

        if (player.team == TeamIds.LSPD)
            return false;

        var vehicle = this.isNearVehicle(player);

        if (vehicle != undefined) {
            if (this.isVehicleGettingLooted(vehicle))
                return overlayError(player, "Das Fahrzeug wird bereits geplündert!", "Fehler");

            if (this.isPlayerLooting(player))
                return overlayError(player, "Du plünderst bereits ein Fahrzeug!", "Fehler");

            playAnimation(player, "veh@break_in@0h@p_m_one@", "low_force_entry_ds", 32, false);
            vehicle.lastPlayer = player;
            player.call("client:TuningPlayerLoots", [vehicle.position.x, vehicle.position.y, vehicle.position.z]);

            Messages.Send("SERVER", "Du hast begonnen ein Auto zu plündern. Verteidige es für 1 Minute!", false, player);
        }
    }
};

mp.events.add("playerDeath", (player: damagePlayer, reason: number, killer: damagePlayer) => {

    if (player.killer != undefined) {
        if (player) {
            if (TuninEvent.isPlayerLooting(player)) {

                player.lootCounter = 0;
                TuninEvent.clearLootingPlayer(player);

                if (player.team != player.killer.team) {
                    Level.givePlayerExperience(player.killer, 250);
                    overlaySuccess(player.killer, "Du hast einen Plünderer getötet und " + Level.getExpWithMultiplicator(250, player.killer) + " EXP bekommen!", "Gut so!");
                }
            }
        }
    }

});

mp.events.add(RageEnums.EventKey.PLAYER_QUIT, (player: damagePlayer) => {

});

mp.events.add(RageEnums.EventKey.PLAYER_SPAWN, (player: damagePlayer) => {
    player.lootCounter = 0;
});

var TuninEvent = new scrapVehicleManager();

TuninEvent.initialize();

mp.events.add("server:TryScrapMetal", (player: damagePlayer) => {

    TuninEvent.tryLoot(player);

});

mp.events.addCommand("loottest", (player: Player) => {

    player.position = TuninEvent.list[0].position;

});

mp.events.add("server:TuningMessageZone", (player: Player, zoneName: string) => {
    Messages.Send("INFO", "Ein Spieler plündert ein Fahrzeug in dem Stadtteil " + zoneName + "!", true);
});